<nav class="site-nav">
  <div class="nav-container">
    <a href="{{ '/' | relative_url }}" class="site-title">⚡ 8-Bit Processor</a>
    
    <div class="nav-menu" id="nav-menu">
      <!-- Español Content -->
      <div class="nav-content lang-es active">
        <div class="nav-item">
          <a href="{{ '/' | relative_url }}" class="nav-link">Inicio</a>
        </div>
        
        <div class="nav-item dropdown">
          <span class="nav-link">📚 Documentación</span>
          <div class="dropdown-menu">
            <a href="{{ '/LEEME.html' | relative_url }}">Documentación Principal</a>
            <a href="{{ '/Estructura.html' | relative_url }}">Estructura del Proyecto</a>
          </div>
        </div>
        
        <div class="nav-item dropdown">
          <span class="nav-link">📖 Bitácoras</span>
          <div class="dropdown-menu">
            <a href="{{ '/src/core/bit/bitacora1.1.1-es.html' | relative_url }}">🟡 Bit</a>
            <a href="{{ '/src/core/logicGates/bitacora1.1.2-es.html' | relative_url }}">🟰 Compuertas Básicas</a>
            <a href="{{ '/src/core/derivedGates/bitacora1.1.3-es.html' | relative_url }}">➕ Compuertas Derivadas</a>
          </div>
        </div>
        
        <div class="nav-item dropdown">
          <span class="nav-link">🔗 Enlaces</span>
          <div class="dropdown-menu">
            <a href="{{ '/CHANGELOG-ES.html' | relative_url }}">📘 Registro de Cambios</a>
            <a href="{{ '/CONTRIBUTING.html' | relative_url }}">🙋 Contribuir</a>
            <a href="https://github.com/Caertos/8-BitsProcessor" target="_blank">📁 Repositorio</a>
          </div>
        </div>
      </div>
      
      <!-- English Content -->
      <div class="nav-content lang-en">
        <div class="nav-item">
          <a href="{{ '/' | relative_url }}" class="nav-link">Home</a>
        </div>
        
        <div class="nav-item dropdown">
          <span class="nav-link">📚 Documentation</span>
          <div class="dropdown-menu">
            <a href="{{ '/README-EN.html' | relative_url }}">Main Documentation</a>
            <a href="{{ '/Structure.html' | relative_url }}">Project Structure</a>
          </div>
        </div>
        
        <div class="nav-item dropdown">
          <span class="nav-link">📖 Development Logs</span>
          <div class="dropdown-menu">
            <a href="{{ '/src/core/bit/bitacora1.1.1-en.html' | relative_url }}">Bit</a>
            <a href="{{ '/src/core/logicGates/bitacora1.1.2-en.html' | relative_url }}">Basic Gates</a>
            <a href="{{ '/src/core/derivedGates/bitacora1.1.3-en.html' | relative_url }}">Derived Gates</a>
          </div>
        </div>
        
        <div class="nav-item dropdown">
          <span class="nav-link">🔗 Links</span>
          <div class="dropdown-menu">
            <a href="{{ '/CHANGELOG-EN.html' | relative_url }}">Changelog</a>
            <a href="{{ '/CONTRIBUTING.html' | relative_url }}">Contributing</a>
            <a href="https://github.com/Caertos/8-BitsProcessor" target="_blank">📁 Repository</a>
          </div>
        </div>
      </div>
      </div>
    </div>
    
    <!-- Language Switcher -->
    <button id="lang-toggle" class="lang-btn" aria-label="Switch language">
      <span id="current-lang">🇪🇸</span>
    </button>
    
    <!-- Hamburger Menu Button (mobile only) -->
    <button id="menu-toggle" class="menu-btn" aria-label="Toggle menu">
      <span class="hamburger-icon">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </button>
  </div>
</nav>

<script>
  // Navigation functionality
  (function() {
    const langToggle = document.getElementById('lang-toggle');
    const menuToggle = document.getElementById('menu-toggle');
    const currentLangSpan = document.getElementById('current-lang');
    const navMenu = document.getElementById('nav-menu');
    const esContent = document.querySelector('.lang-es');
    const enContent = document.querySelector('.lang-en');
    
    // Get saved language or default to Spanish
    let currentLang = localStorage.getItem('site-language') || 'es';
    
    // Apply saved language on load
    updateLanguage(currentLang);
    
    // Language switcher
    langToggle.addEventListener('click', function(e) {
      e.stopPropagation();
      currentLang = currentLang === 'es' ? 'en' : 'es';
      updateLanguage(currentLang);
      localStorage.setItem('site-language', currentLang);
    });
    
    function updateLanguage(lang) {
      if (lang === 'es') {
        currentLangSpan.textContent = '🇪🇸';
        esContent.classList.add('active');
        enContent.classList.remove('active');
      } else {
        currentLangSpan.textContent = '🇺🇸';
        enContent.classList.add('active');
        esContent.classList.remove('active');
      }
    }
    
    // Hamburger menu toggle (mobile)
    menuToggle.addEventListener('click', function(e) {
      e.stopPropagation();
      navMenu.classList.toggle('nav-open');
      menuToggle.classList.toggle('active');
    });
    
    // Close mobile menu when clicking on a link
    const navLinks = document.querySelectorAll('.nav-menu a');
    navLinks.forEach(function(link) {
      link.addEventListener('click', function() {
        navMenu.classList.remove('nav-open');
        menuToggle.classList.remove('active');
      });
    });
    
    // Close mobile menu when clicking outside
    document.addEventListener('click', function(event) {
      if (!event.target.closest('.site-nav')) {
        navMenu.classList.remove('nav-open');
        menuToggle.classList.remove('active');
      }
    });
  })();
</script>